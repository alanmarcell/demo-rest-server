{"version":3,"sources":["../../dist-esnext/core/BaseRepositoryPtz.js"],"names":["getDb","db","userApp","getUserApp","seed","getRunningUrl","console","log","createConnection","config","PORT","path","dbConnectionString","connect","userRepository"],"mappings":";;;;;;;;0DAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAGyBA,sCAHzB;;AAAA;AAGcC,0BAHd;AAIcC,+BAJd,GAIwBC,WAAWF,EAAX,CAJxB;AAAA;AAAA,+BAKcC,QAAQE,IAAR,EALd;;AAAA;AAMQC,sCAAcH,OAAd;AANR;AAAA;;AAAA;AAAA;AAAA;;AASQI,gCAAQC,GAAR;;AATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeC,gB;;;;;AAZf;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;AALA,iBAAOC,MAAP;;AAMA;AACA,IAAMC,OAAO,IAAb;AACA,IAAML,gBAAgB,SAAhBA,aAAgB,CAACM,IAAD;AAAA,iCAA8BD,IAA9B,GAAqCC,IAArC;AAAA,CAAtB;AACA,IAAMX;AAAA,yDAAQ,iBAAOY,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAoC,qBAAYC,OAAZ,iCAApC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;;AAAA;AAAA;AAAA;AAAA,GAAN;AACA,IAAMV,aAAa,SAAbA,UAAa,CAACF,EAAD;AAAA,WAAQ,wBAAY,EAAEa,gBAAgB,sCAAmBb,EAAnB,CAAlB,EAA0CM,eAA1C,EAAZ,CAAR;AAAA,CAAnB;QAaSC,gB,GAAAA,gB;QAAkBL,U,GAAAA,U;QAAYH,K,GAAAA,K;AACvC","file":"BaseRepositoryPtz.js","sourcesContent":["import dotenv from 'dotenv';\ndotenv.config();\nimport { MongoClient } from 'mongodb';\nimport { UserApp } from 'ptz-user-app';\nimport { UserRepository } from 'ptz-user-repository';\nimport { DB_CONNECTION_STRING } from '../config/constants';\nimport { log } from '../index';\n// log('Base REpository');\nconst PORT = 3011;\nconst getRunningUrl = (path) => `http://localhost:${PORT}${path}`;\nconst getDb = async (dbConnectionString) => await MongoClient.connect(DB_CONNECTION_STRING);\nconst getUserApp = (db) => new UserApp({ userRepository: new UserRepository(db), log });\nasync function createConnection() {\n    try {\n        // const db = await MongoClient.connect(DB_CONNECTION_STRING);\n        const db = await getDb(DB_CONNECTION_STRING);\n        const userApp = getUserApp(db);\n        await userApp.seed();\n        getRunningUrl(userApp);\n    }\n    catch (e) {\n        console.log(e);\n    }\n}\nexport { createConnection, getUserApp, getDb };\n//# sourceMappingURL=BaseRepositoryPtz.js.map"]}