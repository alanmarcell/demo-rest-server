{"version":3,"sources":["../../dist-esnext/seed/SeedRepository.js"],"names":["user","getDb","db","userApp","getUserApp","authedUser","ip","dtCreated","Date","displayName","id","email","userName","newUser","userArgs","saveUser","createdPrd","console","log","createUser","config","dbConnectionString","connect","userRepository"],"mappings":";;;;;;;;0DASA,kBAA0BA,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEyBC,sCAFzB;;AAAA;AAEcC,0BAFd;AAGcC,+BAHd,GAGwBC,WAAWF,EAAX,CAHxB;;AAIQ,wCAAI,kBAAJ,EAAwBF,IAAxB;AACMK,kCALd,GAK2B;AACfC,gCAAI,EADW;AAEfC,uCAAW,IAAIC,IAAJ,EAFI;AAGfR,kCAAM;AACFS,6CAAa,OADX;AAEFC,oCAAI,OAFF;AAGFC,uCAAO,OAHL;AAIFC,0CAAU;AAJR;AAHS,yBAL3B;AAecC,+BAfd,GAewB;AACZD,sCAAUZ,KAAKY,QADH;AAEZD,mCAAOX,KAAKW,KAFA;AAGZF,yCAAaT,KAAKS;AAHN,yBAfxB;AAoBcK,gCApBd,GAoByB;AACbA,sCAAUD,OADG;AAEbR;AAFa,yBApBzB;AAAA;AAAA,+BAwBiCF,QAAQY,QAAR,CAAiBD,QAAjB,CAxBjC;;AAAA;AAwBcE,kCAxBd;;AAyBQ,wCAAI,YAAJ,EAAkBA,UAAlB;AAzBR;AAAA;;AAAA;AAAA;AAAA;;AA4BQC,gCAAQC,GAAR,CAAY,iBAAZ;;AA5BR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeC,U;;;;;AATf;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;AALA,iBAAOC,MAAP;;AAMA,IAAMnB;AAAA,yDAAQ,iBAAOoB,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAoC,qBAAYC,OAAZ,iCAApC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;;AAAA;AAAA;AAAA;AAAA,GAAN;AACA,IAAMlB,aAAa,SAAbA,UAAa,CAACF,EAAD;AAAA,WAAQ,wBAAY,EAAEqB,gBAAgB,sCAAmBrB,EAAnB,CAAlB,EAA0CgB,eAA1C,EAAZ,CAAR;AAAA,CAAnB;QAgCSC,U,GAAAA,U;QAAYf,U,GAAAA,U;QAAYH,K,GAAAA,K;AACjC","file":"SeedRepository.js","sourcesContent":["import dotenv from 'dotenv';\ndotenv.config();\nimport { MongoClient } from 'mongodb';\nimport { UserApp } from 'ptz-user-app';\nimport { UserRepository } from 'ptz-user-repository';\nimport { DB_CONNECTION_STRING } from '../config/constants';\nimport { log } from '../index';\nconst getDb = async (dbConnectionString) => await MongoClient.connect(DB_CONNECTION_STRING);\nconst getUserApp = (db) => new UserApp({ userRepository: new UserRepository(db), log });\nasync function createUser(user) {\n    try {\n        const db = await getDb(DB_CONNECTION_STRING);\n        const userApp = getUserApp(db);\n        log('Repository user ', user);\n        const authedUser = {\n            ip: '',\n            dtCreated: new Date(),\n            user: {\n                displayName: 'teste',\n                id: 'teste',\n                email: 'teste',\n                userName: 'teste'\n            }\n        };\n        const newUser = {\n            userName: user.userName,\n            email: user.email,\n            displayName: user.displayName\n        };\n        const userArgs = {\n            userArgs: newUser,\n            authedUser\n        };\n        const createdPrd = await userApp.saveUser(userArgs);\n        log('createdPrd', createdPrd);\n    }\n    catch (e) {\n        console.log('Seed Repository', e);\n    }\n}\nexport { createUser, getUserApp, getDb };\n//# sourceMappingURL=SeedRepository.js.map"]}