{"version":3,"sources":["../../dist-esnext/core/BaseRepository.js"],"names":["BaseRepository","schemaModel","model","item","callback","create","err","res","start","items","find","skip","parseInt","limit","_id","update","findByIdAndRemove","toObjectId","findById","query","findOne","Types","ObjectId","createFromHexString"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;IACMA,c;AACF,4BAAYC,WAAZ,EAAyB;AAAA;;AACrB,aAAKC,KAAL,GAAaD,WAAb;AACH;;;;+BACME,I,EAAMC,Q,EAAU;AACnB,gBAAI;AACA,qBAAKF,KAAL,CAAWG,MAAX,CAAkBF,IAAlB,EAAwB,UAACG,GAAD,EAAMC,GAAN,EAAc;AAClC,wBAAID,GAAJ,EACI,gBAAI,OAAJ,EAAaA,GAAb;AACJF,6BAASE,GAAT,EAAcC,GAAd;AACH,iBAJD;AAKH,aAND,CAOA,OAAOD,GAAP,EAAY;AACR,gCAAIA,GAAJ;AACH;AACJ;;;iCACQF,Q,EAAUI,K,EAAOC,K,EAAO;AAC7B,gBAAIA,KAAJ;AACI;AACA,qBAAKP,KAAL,CAAWQ,IAAX,CAAgB,EAAhB,EAAoBN,QAApB,EAA8BO,IAA9B,CAAmCC,SAASJ,KAAT,CAAnC,EAAoDK,KAApD,CAA0DD,SAASH,KAAT,CAA1D,EAFJ,KAII,KAAKP,KAAL,CAAWQ,IAAX,CAAgB,EAAhB,EAAoBN,QAApB;AACP;AACD;;;;+BACOU,G,EAAKX,I,EAAMC,Q,EAAU;AACxB;AACA,iBAAKF,KAAL,CAAWa,MAAX,CAAkB,EAAED,QAAF,EAAlB,EAA2BX,IAA3B,EAAiC,UAACG,GAAD,EAAMC,GAAN,EAAc;AAC3C,oBAAID,GAAJ,EACI,gBAAI,OAAJ,EAAaA,GAAb;AACJF,yBAASE,GAAT,EAAcC,GAAd;AACH,aAJD;AAKH;AACD;;;;gCACOO,G,EAAKV,Q,EAAU;AAClB,iBAAKF,KAAL,CAAWc,iBAAX,CAA6B,EAAEF,KAAK,KAAKG,UAAL,CAAgBH,GAAhB,CAAP,EAA7B,EAA4D,UAACR,GAAD,EAAMC,GAAN,EAAc;AACtE,oBAAID,GAAJ,EACI,gBAAI,OAAJ,EAAaA,GAAb;AACJF,yBAASE,GAAT,EAAcC,GAAd;AACH,aAJD;AAKH;AACD;;;;iCACSO,G,EAAKV,Q,EAAU;AACpB,iBAAKF,KAAL,CAAWgB,QAAX,CAAoBJ,GAApB,EAAyBV,QAAzB;AACH;;;gCACOe,K,EAAOf,Q,EAAU;AACrB,iBAAKF,KAAL,CAAWkB,OAAX,CAAmBD,KAAnB,EAA0Bf,QAA1B;AACH;AACD;;;;mCACWU,G,EAAK;AACZ,mBAAO,mBAASO,KAAT,CAAeC,QAAf,CAAwBC,mBAAxB,CAA4CT,GAA5C,CAAP;AACH;;;;;;kBAEUd,c;AACf","file":"BaseRepository.js","sourcesContent":["import mongoose from 'mongoose';\nimport { log } from '../index';\nclass BaseRepository {\n    constructor(schemaModel) {\n        this.model = schemaModel;\n    }\n    create(item, callback) {\n        try {\n            this.model.create(item, (err, res) => {\n                if (err)\n                    log('error', err);\n                callback(err, res);\n            });\n        }\n        catch (err) {\n            log(err);\n        }\n    }\n    retrieve(callback, start, items) {\n        if (items)\n            // tslint:disable-next-line:radix\n            this.model.find({}, callback).skip(parseInt(start)).limit(parseInt(items));\n        else\n            this.model.find({}, callback);\n    }\n    // tslint:disable-next-line:variable-name\n    update(_id, item, callback) {\n        // log(callback);\n        this.model.update({ _id }, item, (err, res) => {\n            if (err)\n                log('error', err);\n            callback(err, res);\n        });\n    }\n    // tslint:disable-next-line:variable-name\n    delete(_id, callback) {\n        this.model.findByIdAndRemove({ _id: this.toObjectId(_id) }, (err, res) => {\n            if (err)\n                log('error', err);\n            callback(err, res);\n        });\n    }\n    // tslint:disable-next-line:variable-name\n    findById(_id, callback) {\n        this.model.findById(_id, callback);\n    }\n    findOne(query, callback) {\n        this.model.findOne(query, callback);\n    }\n    // tslint:disable-next-line:variable-name\n    toObjectId(_id) {\n        return mongoose.Types.ObjectId.createFromHexString(_id);\n    }\n}\nexport default BaseRepository;\n//# sourceMappingURL=BaseRepository.js.map"]}