{"version":3,"sources":["../../dist-esnext/seed/SeedRepository.js"],"names":["user","getDb","db","userApp","getUserApp","saveUser","getRunningUrl","console","log","createUser","config","PORT","path","dbConnectionString","connect","userRepository"],"mappings":";;;;;;;;0DAYA,kBAA0BA,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAGyBC,sCAHzB;;AAAA;AAGcC,0BAHd;AAIcC,+BAJd,GAIwBC,WAAWF,EAAX,CAJxB;AAAA;AAAA,+BAKcC,QAAQE,QAAR,CAAiBL,IAAjB,CALd;;AAAA;AAMQM,sCAAcH,OAAd;AANR;AAAA;;AAAA;AAAA;AAAA;;AASQI,gCAAQC,GAAR;;AATR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeC,U;;;;;AAZf;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;;;;;AALA,iBAAOC,MAAP;;AAMA;AACA,IAAMC,OAAO,IAAb;AACA,IAAML,gBAAgB,SAAhBA,aAAgB,CAACM,IAAD;AAAA,iCAA8BD,IAA9B,GAAqCC,IAArC;AAAA,CAAtB;AACA,IAAMX;AAAA,yDAAQ,iBAAOY,kBAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAoC,qBAAYC,OAAZ,iCAApC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;;AAAA;AAAA;AAAA;AAAA,GAAN;AACA,IAAMV,aAAa,SAAbA,UAAa,CAACF,EAAD;AAAA,WAAQ,wBAAY,EAAEa,gBAAgB,sCAAmBb,EAAnB,CAAlB,EAA0CM,eAA1C,EAAZ,CAAR;AAAA,CAAnB;QAaSC,U,GAAAA,U;QAAYL,U,GAAAA,U;QAAYH,K,GAAAA,K;AACjC","file":"SeedRepository.js","sourcesContent":["import dotenv from 'dotenv';\ndotenv.config();\nimport { MongoClient } from 'mongodb';\nimport { UserApp } from 'ptz-user-app';\nimport { UserRepository } from 'ptz-user-repository';\nimport { DB_CONNECTION_STRING } from '../config/constants';\nimport { log } from '../index';\n// log('Base REpository');\nconst PORT = 3011;\nconst getRunningUrl = (path) => `http://localhost:${PORT}${path}`;\nconst getDb = async (dbConnectionString) => await MongoClient.connect(DB_CONNECTION_STRING);\nconst getUserApp = (db) => new UserApp({ userRepository: new UserRepository(db), log });\nasync function createUser(user) {\n    try {\n        // const db = await MongoClient.connect(DB_CONNECTION_STRING);\n        const db = await getDb(DB_CONNECTION_STRING);\n        const userApp = getUserApp(db);\n        await userApp.saveUser(user);\n        getRunningUrl(userApp);\n    }\n    catch (e) {\n        console.log(e);\n    }\n}\nexport { createUser, getUserApp, getDb };\n//# sourceMappingURL=SeedRepository.js.map"]}