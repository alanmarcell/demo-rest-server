{"version":3,"sources":["../../../dist-esnext/app/repository/BaseRepository.js"],"names":["RepositoryBase","schemaModel","model","item","callback","create","err","res","console","log","start","items","find","_id","update","findByIdAndRemove","toObjectId","findById","query","findOne","Types","ObjectId","createFromHexString"],"mappings":";;;;;;;;AAAA;;;;;;;;IACMA,c;AACF,4BAAYC,WAAZ,EAAyB;AAAA;;AACrB,aAAKC,KAAL,GAAaD,WAAb;AACH;;;;+BACME,I,EAAMC,Q,EAAU;AACnB,gBAAI;AACA,qBAAKF,KAAL,CAAWG,MAAX,CAAkBF,IAAlB,EAAwB,UAACG,GAAD,EAAMC,GAAN,EAAc;AAClC,wBAAID,GAAJ,EACIE,QAAQC,GAAR,CAAY,OAAZ,EAAqBH,GAArB;AACJF,6BAASE,GAAT,EAAcC,GAAd;AACH,iBAJD;AAKH,aAND,CAOA,OAAOD,GAAP,EAAY;AACRE,wBAAQC,GAAR,CAAYH,GAAZ;AACH;AACJ;;;iCACQF,Q,EAAUM,K,EAAOC,K,EAAO;AAC7B;AACA;AACA;AACA;AACAH,oBAAQC,GAAR,CAAY,KAAKP,KAAL,CAAWU,IAAX,CAAgB,EAAhB,EAAoBR,QAApB,CAAZ;AACH;AACD;;;;+BACOS,G,EAAKV,I,EAAMC,Q,EAAU;AACxB;AACA,iBAAKF,KAAL,CAAWY,MAAX,CAAkB,EAAED,QAAF,EAAlB,EAA2BV,IAA3B,EAAiC,UAACG,GAAD,EAAMC,GAAN,EAAc;AAC3C,oBAAID,GAAJ,EACIE,QAAQC,GAAR,CAAY,OAAZ,EAAqBH,GAArB;AACJF,yBAASE,GAAT,EAAcC,GAAd;AACH,aAJD;AAKH;AACD;;;;gCACOM,G,EAAKT,Q,EAAU;AAClB,iBAAKF,KAAL,CAAWa,iBAAX,CAA6B,EAAEF,KAAK,KAAKG,UAAL,CAAgBH,GAAhB,CAAP,EAA7B,EAA4D,UAACP,GAAD,EAAMC,GAAN,EAAc;AACtE,oBAAID,GAAJ,EACIE,QAAQC,GAAR,CAAY,OAAZ,EAAqBH,GAArB;AACJF,yBAASE,GAAT,EAAcC,GAAd;AACH,aAJD;AAKH;AACD;;;;iCACSM,G,EAAKT,Q,EAAU;AACpB,iBAAKF,KAAL,CAAWe,QAAX,CAAoBJ,GAApB,EAAyBT,QAAzB;AACH;;;gCACOc,K,EAAOd,Q,EAAU;AACrB,iBAAKF,KAAL,CAAWiB,OAAX,CAAmBD,KAAnB,EAA0Bd,QAA1B;AACH;AACD;;;;mCACWS,G,EAAK;AACZ,mBAAO,mBAASO,KAAT,CAAeC,QAAf,CAAwBC,mBAAxB,CAA4CT,GAA5C,CAAP;AACH;;;;;;kBAEUb,c;AACf","file":"BaseRepository.js","sourcesContent":["import mongoose from 'mongoose';\nclass RepositoryBase {\n    constructor(schemaModel) {\n        this.model = schemaModel;\n    }\n    create(item, callback) {\n        try {\n            this.model.create(item, (err, res) => {\n                if (err)\n                    console.log('error', err);\n                callback(err, res);\n            });\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n    retrieve(callback, start, items) {\n        // if (items)\n        //   // tslint:disable-next-line:radix\n        //   this.model.find({}, callback).skip(parseInt(start)).limit(parseInt(items));\n        // else\n        console.log(this.model.find({}, callback));\n    }\n    // tslint:disable-next-line:variable-name\n    update(_id, item, callback) {\n        // console.log(callback);\n        this.model.update({ _id }, item, (err, res) => {\n            if (err)\n                console.log('error', err);\n            callback(err, res);\n        });\n    }\n    // tslint:disable-next-line:variable-name\n    delete(_id, callback) {\n        this.model.findByIdAndRemove({ _id: this.toObjectId(_id) }, (err, res) => {\n            if (err)\n                console.log('error', err);\n            callback(err, res);\n        });\n    }\n    // tslint:disable-next-line:variable-name\n    findById(_id, callback) {\n        this.model.findById(_id, callback);\n    }\n    findOne(query, callback) {\n        this.model.findOne(query, callback);\n    }\n    // tslint:disable-next-line:variable-name\n    toObjectId(_id) {\n        return mongoose.Types.ObjectId.createFromHexString(_id);\n    }\n}\nexport default RepositoryBase;\n//# sourceMappingURL=BaseRepository.js.map"]}